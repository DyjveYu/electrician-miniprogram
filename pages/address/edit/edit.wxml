<!--pages/address/edit/edit.wxml-->
<view class="container">
  <view class="form-section">
    <!-- 地址信息 (置顶) -->
    <view class="form-group">
      <view class="form-item" bindtap="chooseLocation">
        <text class="label">所在地区</text>
        <view class="region-selector">
          <view class="location-content" wx:if="{{formData.province}}">
            <text class="location-name" wx:if="{{formData.locationName}}">{{formData.locationName}}</text>
            <text class="region-text">{{formData.province}} {{formData.city}} {{formData.district}}</text>
          </view>
          <text class="placeholder" wx:else>点击选择位置</text>
          <text class="arrow">></text>
        </view>
      </view>
      
      <view class="form-item">
        <text class="label">详细地址</text>
        <textarea 
          class="textarea"
          placeholder="请输入详细地址（街道、门牌号等）"
          value="{{formData.detail}}"
          bindinput="onDetailInput"
          maxlength="100"
        ></textarea>
      </view>
    </view>

    <!-- 联系人信息 (下移) -->
    <view class="form-group">
      <view class="form-item">
        <text class="label">联系人</text>
        <input 
          class="input"
          placeholder="请输入联系人姓名"
          value="{{formData.contactName}}"
          bindinput="onContactNameInput"
        />
      </view>
      
      <view class="form-item">
        <text class="label">联系电话</text>
        <input 
          class="input"
          placeholder="请输入联系电话"
          value="{{formData.contactPhone}}"
          bindinput="onContactPhoneInput"
          type="number"
        />
      </view>
    </view>

    <!-- 默认地址 -->
    <view class="form-group">
      <view class="form-item switch-item" bindtap="toggleDefault">
        <text class="label">设为默认地址</text>
        <switch 
          checked="{{formData.isDefault}}"
          color="#1976d2"
          catchtap="toggleDefault"
        />
      </view>
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="save-section">
    <button 
      class="save-btn {{saving ? 'disabled' : ''}}"
      bindtap="saveAddress"
      disabled="{{saving}}"
    >
      {{saving ? '保存中...' : '保存'}}
    </button>
  </view>
</view>